-- sprint 5 
    - dbt-101 con't 

    - Install dbt-oracle /
    - target and multiple target / 
    - connection to oracle db /
    - add source (source table must be on DW) /
    - sample model /
    - docs serve - docs gen / 

-- sprint 6 (doing)
    - model parallel config     /
    - grantable (config)        /
    - truncate table (pre-hook) /

    - logging for every step /model (post-hook)
    - handle exception in macros 
        - trường hợp truncate bảng ko tồn tại 

    - migrate 1 flow in dct_contract 
        - add source 
        - incremental model 
        - snapshot model 

-- next sprint 
    - unit test 
    - integrate dbt with airflow 
    - dbt_artifacts 
    - semantic layer 
    - masking on View based on role ?


--------------------------------------------------------------------------
-- DBT PROJECT CONVENTION -- Chuyển thanh Markdown 
--------------------------------------------------------------------------
    - profiles.yml 
        - Nên lưu bên ngoài thư mục repo 
        
        - Hoặc nếu để profile trong repo thì thông tin kết nối được export từ biến môi trường
            dùng biến : $Env:DBT_PROFILES_DIR = '...', add vào trong file môi trường của .dbtenv/Scripts/
       
    - thư mục legacy : lưu thông tin code cũ đã/ đang migration để đối chiếu 

    - data mart structure: 
        - marts/<local_data_mart>/      : for model 
        - marts/<local_data_mart>_out/  : for view 
        - marts/<intermediate>/         : for temporary model (STM, STT, STC, STP)
        
    - tên model phải là duy nhất trên toàn project 
    
    - model schema sẽ có cùng tên với model vd : dct_product.yml

    - các bảng STM, STC , STT       : có phần suffix là động từ bổ trợ cho bảng chính 
        vd : DCT_CLIENT__MAP , DCT_CLIENT__DIFF, DCT_CLIENT__TEMP , DCT_CLIENT__PERMANENT_TEMP (STP) 
    - các bảng temp hỗ trợ mapping, diff, temporary sẽ nằm trong thư mục intermediate với tên model được đặt theo quy tắc ở trên 
    
    - không cần làm schema cho các bảng STM, STC, STT 
    
    - model cần phải có tối thiểu 2 tag: 
        - chu kỳ chạy : monthly, daily 
        - tên của model phụ thuộc chính : dct_client, dct_contract 
        - ex : tags : [weekly, dct_contract]

    - document 
        - đc tổ chức theo CBL, trong thư mục doc , lưu markdown và data_flow diagram
        - document được tham chiếu = doc block từ trong model_schema.yml

    - source 
        - định nghĩa trong thư mục staging nếu dùng source từ layer interface(owner_int, onwer_hub)
        - định nghĩa trong thư mục data mart nếu dùng source tham chiếu đển model của 1 project khác vd : ldm_fin reference model của ldm_cbe (project mesh chỉ support Cloud version)

    - function / procedure / sql hỗ trợ được đặt trong thư mục macros và phải được document trong file schema.yml tương ứng 

--------------------------------------------------------------------------